import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    history: [
    {
        role: "user",
        parts: [
        {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Just Me with a Cheap budget. Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
        ],
    },
    {
        role: "model",
        parts: [
        {text: "Okay, here's a budget-friendly 3-day solo travel plan for Las Vegas, along with hotel options and itinerary details in JSON format.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"traveler\": \"Solo\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n       \"hotelImageURL\": \"https://example.com/circus_circus.jpg\",\n       \"geoCoordinates\": {\"latitude\": 36.1436, \"longitude\": -115.1668},\n      \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a circus theme, offering affordable rooms and various entertainment options, great for budget travelers.\",\n       \"bestFor\": \"Family and Budget travelers\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n       \"hotelImageURL\": \"https://example.com/excalibur.jpg\",\n       \"geoCoordinates\": {\"latitude\": 36.0981, \"longitude\": -115.1732},\n      \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel with budget-friendly rooms and a lively atmosphere on the Strip.\",\n         \"bestFor\": \"Budget and Fun loving travelers\"\n    },\n    {\n      \"hotelName\": \"OYO Hotel and Casino Las Vegas\",\n       \"hotelAddress\":\"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $75 per night\",\n       \"hotelImageURL\": \"https://example.com/oyo.jpg\",\n        \"geoCoordinates\":{\"latitude\":36.1028,\"longitude\": -115.1695 },\n      \"rating\": 3.0,\n      \"description\": \"A budget hotel with basic amenities located near the south end of the Strip.\",\n    },\n    {\n      \"hotelName\": \"Downtown Grand Hotel & Casino\",\n       \"hotelAddress\":\"206 N 3rd St, Las Vegas, NV 89101\",\n      \"price\": \"$60 - $100 per night\",\n       \"hotelImageURL\": \"https://example.com/downtown_grand.jpg\",\n        \"geoCoordinates\":{\"latitude\":36.1713,\"longitude\": -115.1443 },\n      \"rating\": 4.2,\n      \"description\": \"A modern hotel in downtown Las Vegas, near Fremont Street.\",\n         \"bestFor\": \"Solo traveler and budget travelers\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip\",\n      \"bestTimeToVisit\": \"Late Afternoon/Evening\",\n      \"activities\": [\n        {\n          \"time\": \"9:00 AM\",\n            \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"Beautiful floral displays that change with the season. Free to enter.\",\n          \"placeImageURL\": \"https://example.com/bellagio_gardens.jpg\",\n           \"geoCoordinates\": {\"latitude\": 36.1128, \"longitude\": -115.1741},\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n           \"travelTime\": \"0 min (located in the hotel)\"\n        },\n         {\n          \"time\": \"10:30 AM\",\n             \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Spectacular water show with music and light. Free to watch.\",\n          \"placeImageURL\": \"https://example.com/bellagio_fountains.jpg\",\n          \"geoCoordinates\": {\"latitude\": 36.1126, \"longitude\": -115.1738},\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n           \"travelTime\": \"5 min (walking)\"\n\n        },\n        {\n          \"time\": \"12:00 PM\",\n            \"placeName\": \"Lunch at In-N-Out Burger\",\n             \"placeDetails\": \"Enjoy an affordable and classic American burger. Several locations on the Strip.\",\n              \"placeImageUrl\": \"https://example.com/innout.jpg\",\n            \"geoCoordinates\": {\n             \"latitude\": 36.1144,\n              \"longitude\": -115.1701\n            },\n            \"ticketPricing\": \"$10 - $15\",\n              \"rating\": 4.5,\n              \"travelTime\": \"10 min (walking)\"\n        },\n         {\n          \"time\": \"1:30 PM\",\n            \"placeName\": \"The LINQ Promenade\",\n             \"placeDetails\": \"Stroll through this outdoor shopping and dining area with street performers. Great for people-watching.\",\n              \"placeImageUrl\": \"https://example.com/linqpromenade.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1164,\n              \"longitude\": -115.1690\n            },\n            \"ticketPricing\": \"Free (some attractions cost extra)\",\n             \"rating\": 4.3,\n            \"travelTime\": \"15 min (walking)\"\n          },\n          {\n            \"time\": \"3:30 PM\",\n             \"placeName\": \"Explore the Venetian and Grand Canal Shoppes\",\n            \"placeDetails\": \"Walk through the themed canals and streets of Venice. Great for photos.\",\n              \"placeImageUrl\": \"https://example.com/venetian.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1210,\n              \"longitude\": -115.1695\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.7,\n             \"travelTime\":\"10 min (walking)\"\n          },\n            {\n           \"time\": \"6:00 PM\",\n            \"placeName\": \"Dinner at a Budget-Friendly Restaurant\",\n            \"placeDetails\": \"Find a casual dining spot or food court for an affordable dinner.  Check out places like White Castle, or the food courts in some hotels.\",\n              \"placeImageUrl\": \"https://example.com/whitecastle.jpg\",\n            \"geoCoordinates\": {\n                \"latitude\": 36.1165,\n              \"longitude\":  -115.1735\n            },\n           \"ticketPricing\": \"$20 - $30\",\n           \"rating\": 4.0,\n           \"travelTime\": \"15 min (walking)\"\n          },\n          {\n            \"time\": \"7:30 PM\",\n            \"placeName\": \"Street Entertainment and Light Shows\",\n            \"placeDetails\": \"Enjoy the free street performers and light shows along the Strip.  Check out the Mirage Volcano show.\",\n            \"placeImageUrl\":\"https://example.com/miragevolcano.jpg\",\n             \"geoCoordinates\":{\n               \"latitude\": 36.1208,\n               \"longitude\": -115.1722\n             },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.5,\n             \"travelTime\": \"5 min (walking)\"\n          }\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Downtown Vegas and Fremont Street\",\n        \"schedule\": [\n          {\n            \"time\": \"9:00 AM\",\n              \"placeName\": \"Breakfast at a Local Cafe\",\n             \"placeDetails\": \"Enjoy an affordable breakfast at a local cafe or your hotel.\",\n             \"placeImageUrl\":\"https://example.com/localcafe.jpg\",\n            \"geoCoordinates\":{\n               \"latitude\": 36.1082,\n               \"longitude\": -115.1717\n             },\n             \"ticketPricing\": \"$10 - $15\",\n             \"rating\": 4.2,\n            \"travelTime\": \"0 min (or within hotel)\"\n          },\n          {\n            \"time\": \"10:00 AM\",\n            \"placeName\": \"Travel to Downtown Las Vegas\",\n             \"placeDetails\":\"Take the bus or a rideshare to downtown.\",\n             \"placeImageUrl\":\"https://example.com/bus.jpg\",\n              \"geoCoordinates\":{\n                 \"latitude\": 36.1699,\n                \"longitude\": -115.1400\n              },\n              \"ticketPricing\":\"$5 - $10 (transportation)\",\n            \"rating\": 4.0,\n             \"travelTime\": \"20 - 30 min (transportation)\"\n          },\n\n          {\n             \"time\": \"10:30 AM\",\n            \"placeName\": \"Fremont Street Experience\",\n            \"placeDetails\":\"Explore the vibrant pedestrian mall, watch the light shows, and enjoy the street performers.\",\n              \"placeImageUrl\":\"https://example.com/fremontstreet.jpg\",\n            \"geoCoordinates\": {\n                 \"latitude\":36.1713,\n                 \"longitude\": -115.1412\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.6,\n             \"travelTime\":\"0 min (on location)\"\n          },\n\n           {\n            \"time\":\"1:00 PM\",\n            \"placeName\":\"Lunch at a Downtown Eatery\",\n            \"placeDetails\": \"Grab an inexpensive lunch from a food truck or local eatery downtown.\",\n              \"placeImageUrl\":\"https://example.com/foodtruck.jpg\",\n               \"geoCoordinates\":{\n                    \"latitude\":36.1699,\n                 \"longitude\": -115.1400\n                },\n            \"ticketPricing\":\"$15 - $20\",\n             \"rating\": 4.1,\n              \"travelTime\": \"5-10 min (walking)\"\n           },\n\n         {\n            \"time\": \"2:30 PM\",\n            \"placeName\": \"Container Park\",\n            \"placeDetails\":\"A unique shopping and dining area built from shipping containers with art and a playground.\",\n              \"placeImageUrl\":\"https://example.com/containerpark.jpg\",\n             \"geoCoordinates\":{\n               \"latitude\": 36.1711,\n               \"longitude\": -115.1399\n             },\n            \"ticketPricing\": \"Free\",\n             \"rating\": 4.4,\n             \"travelTime\": \"5 min (walking)\"\n          },\n           {\n           \"time\":\"4:00 PM\",\n           \"placeName\": \"Mob Museum\",\n           \"placeDetails\": \"If interested in history, consider a visit to the Mob Museum. (Optional; may be outside of budget)\",\n             \"placeImageUrl\":\"https://example.com/mobmuseum.jpg\",\n            \"geoCoordinates\":{\n               \"latitude\": 36.1728,\n               \"longitude\": -115.1403\n            },\n            \"ticketPricing\": \"$30 per person (Optional)\",\n           \"rating\": 4.7,\n           \"travelTime\":\"5 min (walking)\"\n           },\n          {\n            \"time\": \"6:00 PM\",\n            \"placeName\": \"Happy Hour at a Downtown Bar\",\n             \"placeDetails\": \"Find a bar with happy hour deals for affordable drinks.\",\n             \"placeImageUrl\":\"https://example.com/downtownbar.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1700,\n              \"longitude\": -115.1410\n            },\n             \"ticketPricing\": \"$15 - $25\",\n             \"rating\": 4.3,\n             \"travelTime\": \"5 min (walking)\"\n          },\n          {\n            \"time\": \"7:30 PM\",\n            \"placeName\": \"Fremont Street Light Show\",\n             \"placeDetails\": \"Enjoy the free light and sound show on the Fremont Street canopy.\",\n             \"placeImageUrl\":\"https://example.com/fremontlightshow.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1713,\n               \"longitude\":-115.1412\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.8,\n             \"travelTime\": \"0 min (on location)\"\n          }\n        ]\n      },\n      \"day3\": {\n        \"theme\": \"Relaxation and Scenic Views\",\n        \"schedule\": [\n           {\n            \"time\": \"9:00 AM\",\n            \"placeName\": \"Breakfast at Your Hotel or Nearby Cafe\",\n             \"placeDetails\":\"Start your day with breakfast at your hotel or a local cafe.\",\n            \"placeImageUrl\":\"https://example.com/breakfast.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1082,\n              \"longitude\": -115.1717\n            },\n           \"ticketPricing\": \"$10 - $15\",\n           \"rating\": 4.2,\n           \"travelTime\": \"0 min (or within hotel)\"\n           },\n          {\n           \"time\":\"10:00 AM\",\n           \"placeName\": \"High Roller Observation Wheel at LINQ\",\n             \"placeDetails\":\"Enjoy panoramic views of the Las Vegas strip from the observation wheel. (Optional, can be pricey; look for deals).\",\n              \"placeImageUrl\":\"https://example.com/highroller.jpg\",\n            \"geoCoordinates\":{\n                \"latitude\": 36.1172,\n                 \"longitude\": -115.1690\n             },\n              \"ticketPricing\": \"$25 - $35 (Optional)\",\n            \"rating\": 4.4,\n            \"travelTime\": \"20 min (transportation)\"\n           },\n\n          {\n            \"time\": \"11:30 AM\",\n            \"placeName\": \"Pool Time at Your Hotel\",\n             \"placeDetails\": \"Relax and enjoy some pool time at your hotel to unwind.\",\n             \"placeImageUrl\":\"https://example.com/hotelpool.jpg\",\n              \"geoCoordinates\":{\n               \"latitude\": 36.1082,\n                \"longitude\": -115.1717\n               },\n              \"ticketPricing\": \"Free (Hotel Guests)\",\n             \"rating\": 4.0,\n             \"travelTime\": \"0 min (on location)\"\n          },\n          {\n            \"time\": \"1:30 PM\",\n            \"placeName\":\"Lunch at a Casual Restaurant\",\n            \"placeDetails\":\"Enjoy a casual lunch near your hotel or on the Strip.\",\n            \"placeImageUrl\":\"https://example.com/casualrestaurant.jpg\",\n              \"geoCoordinates\":{\n                 \"latitude\": 36.1082,\n                 \"longitude\": -115.1717\n              },\n             \"ticketPricing\": \"$15 - $20\",\n             \"rating\": 4.0,\n             \"travelTime\":\"0-5 min\"\n          },\n          {\n            \"time\": \"2:30 PM\",\n             \"placeName\": \"Shopping at Las Vegas North Premium Outlets (Optional)\",\n            \"placeDetails\": \"If you have time for a little shopping, visit the outlet mall. (Optional, can require transportation)\",\n            \"placeImageUrl\":\"https://example.com/outletmall.jpg\",\n             \"geoCoordinates\":{\n                \"latitude\": 36.1865,\n              \"longitude\": -115.1600\n             },\n              \"ticketPricing\":\"Free Entry, Transportation $5-$10\",\n             \"rating\": 4.3,\n              \"travelTime\": \"20-30 min (transportation)\"\n          },\n          {\n            \"time\":\"5:00 PM\",\n            \"placeName\":\"Relax at the hotel\",\n            \"placeDetails\":\"Rest and relax at the hotel before heading for Dinner.\",\n             \"placeImageUrl\":\"https://example.com/hotel.jpg\",\n            \"geoCoordinates\":{\n              \"latitude\":36.1082,\n              \"longitude\": -115.1717\n             },\n             \"ticketPricing\":\"Free\",\n             \"rating\":4.2,\n             \"travelTime\": \"0 min (on location)\"\n\n          },\n          {\n            \"time\":\"6:30 PM\",\n           \"placeName\":\"Farewell Dinner\",\n           \"placeDetails\": \"Enjoy a final dinner in Las Vegas at an affordable restaurant.\",\n             \"placeImageUrl\":\"https://example.com/farewelldinner.jpg\",\n            \"geoCoordinates\":{\n               \"latitude\": 36.1082,\n              \"longitude\": -115.1717\n             },\n             \"ticketPricing\":\"$20-$30\",\n             \"rating\": 4.1,\n              \"travelTime\":\"0-5 min\"\n          },\n           {\n            \"time\": \"8:00 PM\",\n            \"placeName\": \"Enjoy a final stroll on the Strip\",\n            \"placeDetails\": \"Take in the lights and atmosphere one last time.\",\n             \"placeImageUrl\":\"https://example.com/nightstrip.jpg\",\n            \"geoCoordinates\":{\n               \"latitude\": 36.1162,\n              \"longitude\": -115.1729\n             },\n           \"ticketPricing\": \"Free\",\n            \"rating\": 4.7,\n            \"travelTime\":\"10-15 min\"\n          }\n\n        ]\n      }\n    }\n  }\n}\n```\n**Important Notes:**\n* **Hotel Images:** Please note that the `hotelImageURL` and `placeImageURL` values are placeholders. You'll need to replace them with actual image URLs for your chosen locations.\n* **Transportation:** This itinerary assumes you are using a combination of walking, buses, and ride-sharing services. If you rent a car, you have more flexibility, especially for Red Rock Canyon but costs goes high.\n* **Food:** Budget-friendly food options include fast food, grocery store meals, and cheap eats in Downtown.\n* **Pricing:** Ticket prices can vary, especially during peak season. It's always a good idea to check the official websites for the most up-to-date information.\n* **Customization:** This plan is a suggestion, feel free to adjust it according to your interests and energy levels.\n* **Safety:** Be aware of your surroundings, especially at night, and take necessary precautions to ensure your safety.\n\nEnjoy your budget-friendly solo adventure in Las Vegas!\n"},
        ],
    },
    ],
});